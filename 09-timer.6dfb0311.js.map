{"version":3,"sources":["js/09-timer.js"],"names":["timer","startBtn","document","querySelector","stopBtn","clockface","intervalId","isActive","start","alert","startTime","Date","now","setInterval","time","getTimeComponents","updateClockFace","stop","clearInterval","hours","mins","secs","textContent","pad","Math","floor","value","String","padStart","addEventListener"],"mappings":";;;AAiLA,aAjLA,QAAA,sBAEA,IAAMA,EAAQ,CACZC,SAAUC,SAASC,cAAc,6BACjCC,QAASF,SAASC,cAAc,4BAChCE,UAAWH,SAASC,cAAc,iBAClCG,WAAY,KAEZC,UAAU,EAEVC,MAAQ,WACN,GAAIR,EAAMO,SACRE,MAAA,4BADF,CAIAT,EAAMO,UAAW,EAEjB,IAAMG,EAAYC,KAAKC,MAEvBZ,EAAMM,WAAaO,YAAY,WAE7B,IAMMC,EAAOC,EANOJ,KAAKC,MAEOF,GAchCV,EAAMgB,gBAAgBF,IACrB,OAELG,KAAO,WACLC,cAAclB,EAAMM,YACpBN,EAAMO,UAAW,EAEjBP,EAAMgB,gBADO,CAAEG,MAAO,KAAMC,KAAM,KAAMC,KAAM,QAIhDL,gBAAuC,SAAA,GAAA,IAArBG,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,KAC7BrB,EAAMK,UAAUiB,YAAiBH,GAAAA,OAAAA,EAASC,KAAAA,OAAAA,EAAQC,KAAAA,OAAAA,KAgBtD,SAASN,EAAkBD,GASzB,MAAO,CAAEK,MARKI,EACZC,KAAKC,MAAOX,EAAQ,MAAyB,OAO/BM,KAJHG,EAAIC,KAAKC,MAAOX,EAAQ,KAAoB,MAInCO,KAFTE,EAAIC,KAAKC,MAAOX,EAAQ,IAAc,OAQrD,SAASS,EAAIG,GACX,OAAOC,OAAOD,GAAOE,SAAS,EAAG,KA5BnC5B,EAAMC,SAAS4B,iBAAiB,QAAS7B,EAAMQ,OAC/CR,EAAMI,QAAQyB,iBAAiB,QAAS7B,EAAMiB,MAC9CjB,EAAMgB,gBAAgB,CAAEG,MAAO,KAAMC,KAAM,KAAMC,KAAM","file":"09-timer.6dfb0311.js","sourceRoot":"../src","sourcesContent":["import \"../css/common2.css\";\n// https://alvarotrigo.com/blog/disable-button-javascript/\nconst timer = {\n  startBtn: document.querySelector(\"button[data-action-start]\"),\n  stopBtn: document.querySelector(\"button[data-action-stop]\"),\n  clockface: document.querySelector(\".js-clockface\"),\n  intervalId: null,\n  // —Å—é–¥–∞ –∑–∞–ø–∏—à–µ–º –∑–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏\n  isActive: false,\n  //—Ñ—É–Ω–∫—Ü–∏—è –∞–∫—Ç–∏—Ç–≤–Ω–∞?\n  start() {\n    if (timer.isActive) {\n      alert(`–§—É–Ω–∫—Ü–∏—è —É–∂–µ –∞–∫—Ç–∏—Ç–≤–Ω–∞`);\n      return;\n    }\n    timer.isActive = true;\n    // –¥–µ–ª–∞–µ–º —Ç—Ä—É\n    const startTime = Date.now();\n    // —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è(–≤—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞) (–ø—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è –ø–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è)\n    timer.intervalId = setInterval(() => {\n      // –∑–∞–ø–∏—Å—É–µ–º –≤ —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ó–µ–∫—Ç–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª –∞–π–¥–∏\n      const currentTime = Date.now();\n      // –≤—Ä–µ–º—è –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏\n      const deltaTime = currentTime - startTime;\n      // –ø–æ–ª—É—á–∞–µ–º —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —Ç–µ–∫—É—â–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –∏ –≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–ø—É—Å–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–∞–∂–¥—ã–π —Ä–∞–∑ –æ—Ç–Ω–∏–º–∞–µ–º –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ (currentTime) —Å—Ç–∞—Ä—Ç–æ–≤–æ–µ –≤—Ä–µ–º—è (startTime)=== –ø–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –º–∏–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö\n      // const timeComponents = getTimeComponents(deltaTime);\n      // console.log(timeComponents);\n      const time = getTimeComponents(deltaTime);\n      // const { hours, mins, secs } = getTimeComponents(deltaTime);\n      //—Ç–∞–∫ –∫–∞–∫ –Ω–∞–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—å—Å—è –æ–±—ä–µ–∫—Ç, –º—ã —Å—Ä–∞–∑—É –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∏—Ä—É–µ–º –µ–≥–æ\n      // console.log(`${hours}:${mins}:${secs}`);\n      // console.log(\n      //   pad(new Date(deltaTime).getUTCHours()),\n      //   pad(new Date(deltaTime).getUTCMinutes()),\n      //   pad(new Date(deltaTime).getUTCSeconds())\n      // );\n\n      timer.updateClockFace(time);\n    }, 1000);\n  },\n  stop() {\n    clearInterval(timer.intervalId);\n    timer.isActive = false;\n    const time = { hours: \"00\", mins: \"00\", secs: \"00\" };\n    timer.updateClockFace(time);\n    // —É–±–∏—Ä–∞–µ–º –Ω–∞ —Ñ–µ–ª—Å\n  },\n  updateClockFace({ hours, mins, secs }) {\n    timer.clockface.textContent = `${hours}:${mins}:${secs}`;\n  },\n};\n\ntimer.startBtn.addEventListener(\"click\", timer.start);\ntimer.stopBtn.addEventListener(\"click\", timer.stop);\ntimer.updateClockFace({ hours: \"00\", mins: \"00\", secs: \"00\" });\n//–æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Ä–µ–º—è\n// timer.start();\n\n/*\n * - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö\n * - –í—ã—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –≤ –Ω–∏—Ö –≤–º–µ—â–∞–µ—Ç—Å—è —á–∞—Å–æ–≤/–º–∏–Ω—É—Ç/—Å–µ–∫—É–Ω–¥\n * - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—å–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ hours, mins, secs\n * - –ê–¥—Å–∫–∞—è –∫–æ–ø–∏–ø–∞—Å—Ç–∞ —Å–æ —Å—Ç–µ–∫–∞ üí©\n */\nfunction getTimeComponents(time) {\n  const hours = pad(\n    Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n  );\n  // —Å—á–∏—Ç–∞–µ—Ç —á–∞—Å—ã\n  const mins = pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n  // —Å—á–∏—Ç–∞–µ—Ç –º–∏–Ω—É—Ç—ã\n  const secs = pad(Math.floor((time % (1000 * 60)) / 1000));\n  // —Å—á–∏—Ç–∞–µ—Ç —Å–µ–∫—É–Ω–¥—ã\n  return { hours, mins, secs };\n}\n\n/*\n * –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —á–∏—Å–ª–æ, –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å—Ç—Ä–æ–∫–µ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –Ω–∞—á–∞–ª–æ 0 –µ—Å–ª–∏ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ 2-—Ö –∑–Ω–∞–∫–æ–≤\n */\nfunction pad(value) {\n  return String(value).padStart(2, \"0\");\n  // –ø—Ä–∏–æ–±—Ä–∞–∑—É–µ—Ç –≤ —Å—Ç—Ä–æ–∫—É,  –µ—Å–ª–∏ –¥–ª–∏–Ω–∞ –º–µ–Ω—å—à–µ 2 —Ç–æ —Å–ª–µ–≤–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç 0\n  // 1 ==> 01 // 12 ==> 12 // 5 ==> 05\n\n  if (value < 10) {\n    return \"0\" + String(value);\n  } else {\n    return String(value);\n  }\n  //–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–Ω—å—à–µ 10 —Ç–æ –ø–ª—é—Å—É–µ–º –Ω–æ–ª—å –≤–ø–µ—Ä–µ–¥ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ —Å—Ç—Ä–æ–∫—É\n}\n\n///////////////////////// –ß–ï–†–ï–ó –ö–õ–ê–°–°\n///////////////////////////////\n\n// const refs = {\n//   startBtn: document.querySelector(\"button[data-action-start]\"),\n//   stopBtn: document.querySelector(\"button[data-action-stop]\"),\n//   clockface: document.querySelector(\".js-clockface\"),\n// };\n\n// class Timer {\n//   constructor({ onTick }) {\n//     this.intervalId = null;\n//     this.isActive = false;\n//     this.onTick = onTick;\n\n//     this.init();\n//   }\n\n//   init() {\n//     const time = this.getTimeComponents(0);\n//     this.onTick(time);\n//   }\n\n//   start() {\n//     if (this.isActive) {\n//       return;\n//     }\n\n//     const startTime = Date.now();\n//     this.isActive = true;\n\n//     this.intervalId = setInterval(() => {\n//       const currentTime = Date.now();\n//       const deltaTime = currentTime - startTime;\n//       const time = this.getTimeComponents(deltaTime);\n\n//       this.onTick(time);\n//     }, 1000);\n//   }\n\n//   stop() {\n//     clearInterval(this.intervalId);\n//     this.isActive = false;\n//     const time = this.getTimeComponents(0);\n//     this.onTick(time);\n//   }\n\n//   /*\n//    * - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö\n//    * - –í—ã—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –≤ –Ω–∏—Ö –≤–º–µ—â–∞–µ—Ç—Å—è —á–∞—Å–æ–≤/–º–∏–Ω—É—Ç/—Å–µ–∫—É–Ω–¥\n//    * - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—å–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ hours, mins, secs\n//    * - –ê–¥—Å–∫–∞—è –∫–æ–ø–∏–ø–∞—Å—Ç–∞ —Å–æ —Å—Ç–µ–∫–∞ üí©\n//    */\n//   getTimeComponents(time) {\n//     const hours = this.pad(\n//       Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n//     );\n//     const mins = this.pad(Math.floor((time % (1000 * 60 * 60)) / (1000 * 60)));\n//     const secs = this.pad(Math.floor((time % (1000 * 60)) / 1000));\n\n//     return { hours, mins, secs };\n//   }\n\n//   /*\n//    * –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —á–∏—Å–ª–æ, –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å—Ç—Ä–æ–∫–µ –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –Ω–∞—á–∞–ª–æ 0 –µ—Å–ª–∏ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ 2-—Ö –∑–Ω–∞–∫–æ–≤\n//    */\n//   pad(value) {\n//     return String(value).padStart(2, \"0\");\n//   }\n// }\n\n// const timer = new Timer({\n//   onTick: updateClockface,\n// });\n\n// refs.startBtn.addEventListener(\"click\", timer.start.bind(timer));\n// refs.stopBtn.addEventListener(\"click\", timer.stop.bind(timer));\n\n// /*\n//  * - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö\n//  * - –í—ã—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –≤ –Ω–∏—Ö –≤–º–µ—â–∞–µ—Ç—Å—è —á–∞—Å–æ–≤/–º–∏–Ω—É—Ç/—Å–µ–∫—É–Ω–¥\n//  * - –†–∏—Å—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å\n//  */\n// function updateClockface({ hours, mins, secs }) {\n//   refs.clockface.textContent = `${hours}:${mins}:${secs}`;\n// }\n"]}